<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Login ‚Äî App</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    body {
      background: linear-gradient(180deg, #f2f5f9 0%, #e9eef6 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 24px;
    }

    .card {
      width: 360px;
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(9,30,66,0.08);
      padding: 28px;
    }

    .brand {
      text-align: left;
      margin-bottom: 6px;
      color: #1c1e21;
      font-size: 20px;
      font-weight: 600;
    }

    .subtitle {
      color: #606770;
      font-size: 13px;
      margin-bottom: 20px;
    }

    .input {
      width: 100%;
      padding: 12px 14px;
      margin-bottom: 12px;
      border-radius: 8px;
      border: 1px solid rgba(0,0,0,0.08);
      background: #fff;
      box-shadow: 0 1px 0 rgba(0,0,0,0.03);
      font-size: 15px;
      outline: none;
      transition: box-shadow .12s, border-color .12s;
    }
    .input:focus {
      border-color: rgba(24,119,242,0.85);
      box-shadow: 0 4px 14px rgba(24,119,242,0.12);
    }

    .btn {
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      border: none;
      font-size: 15px;
      cursor: pointer;
      margin-top: 8px;
    }

    .btn-login {
      background: #1877F2;
      color: white;
      font-weight: 600;
      box-shadow: 0 4px 10px rgba(24,119,242,0.12);
    }

    .btn-google {
      background: #ffffff;
      color: #111;
      border: 1px solid rgba(0,0,0,0.08);
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
    }

    .google-icon {
      width: 18px;
      height: 18px;
    }

    .actions { margin-top: 10px; }

    .footer-note {
      margin-top: 14px;
      font-size: 12px;
      color: #8d939b;
      text-align: center;
    }

    .hidden { display: none; }
    .error {
      color: #b00020;
      font-size: 13px;
      margin-top: 8px;
      text-align: center;
    }
    .success {
      color: #0b6623;
      font-size: 13px;
      margin-top: 8px;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="card" role="main" aria-label="Login Card">
    <div class="brand">Login</div>
    <div class="subtitle">Inicie sess√£o com  Whayame-Line</div>

    <input id="email" class="input" type="email" placeholder="Seu endere√ßo de email" autocomplete="email" />
    <input id="password" class="input" type="password" placeholder="Sua senha" autocomplete="current-password" />

    <div class="actions">
      <button id="btnLogin" class="btn btn-login">Login</button>

      <button id="btnGoogle" class="btn btn-google" style="margin-top:10px;">
        <img class="google-icon" alt="" src="https://www.svgrepo.com/show/475656/google-color.svg" />
        Continuar com Google
      </button>

      <div id="msg" class="error hidden"></div>
      <div id="msgSuccess" class="success hidden"></div>
    </div>

    <div class="footer-note">Interface Whayame-Line</div>
  </div>

  <!-- Firebase v10 -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import {
      getAuth,
      signInWithEmailAndPassword,
      GoogleAuthProvider,
      signInWithPopup,
      onAuthStateChanged
    } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

    // üîπ Configura√ß√£o do Firebase (projeto zeca-58cd9)
    const firebaseConfig = {
      apiKey: "AIzaSyCVIhK2lTuH0cT77A72h61D3XU0dIATcOA",
      authDomain: "zeca-58cd9.firebaseapp.com",
      projectId: "zeca-58cd9",
      storageBucket: "zeca-58cd9.appspot.com",
      messagingSenderId: "174758634885",
      appId: "1:174758634885:web:40128123afb274856c10ec"
    };

    // Inicializa o app e a autentica√ß√£o
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    // Elementos
    const emailInput = document.getElementById('email');
    const passInput = document.getElementById('password');
    const btnLogin = document.getElementById('btnLogin');
    const btnGoogle = document.getElementById('btnGoogle');
    const msg = document.getElementById('msg');
    const msgSuccess = document.getElementById('msgSuccess');

    function showError(text) {
      msg.textContent = text;
      msg.classList.remove('hidden');
      msgSuccess.classList.add('hidden');
    }
    function showSuccess(text) {
      msgSuccess.textContent = text;
      msgSuccess.classList.remove('hidden');
      msg.classList.add('hidden');
    }
    function clearMessages() {
      msg.classList.add('hidden');
      msgSuccess.classList.add('hidden');
    }

    // Login com email e senha
    btnLogin.addEventListener('click', async () => {
      clearMessages();
      const email = emailInput.value.trim();
      const password = passInput.value;
      if (!email || !password) {
        showError('Preencha email e senha.');
        return;
      }

      try {
        const userCredential = await signInWithEmailAndPassword(auth, email, password);
        showSuccess('Login efetuado com sucesso!');
        console.log('Usu√°rio:', userCredential.user);
        // üîπ Redirecionar (voc√™ pode alterar depois)
        window.location.href = 'Projeto.html';
      } catch (err) {
        console.error(err);
        showError(err.code ? err.code.replace('auth/','').replace(/-/g,' ') : 'Erro ao efetuar login.');
      }
    });

    // Login com Google
    btnGoogle.addEventListener('click', async () => {
      clearMessages();
      try {
        const result = await signInWithPopup(auth, provider);
        const user = result.user;
        showSuccess('Login com Google efetuado!');
        console.log('Usu√°rio Google:', user);
        
        window.location.href = 'Projeto.html';
        
        
      } catch (err) {
        console.error(err);
        showError('Erro no login com Google.');
      }
    });

    // Estado de autentica√ß√£o
    onAuthStateChanged(auth, (user) => {
      if (user) {
        console.log('Usu√°rio logado:', user.email, user.uid);
      } else {
        console.log('Nenhum usu√°rio logado.');
      }
    });
  </script>
</body>
</html>
